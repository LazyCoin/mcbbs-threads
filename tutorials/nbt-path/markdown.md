【CBL|SPG】[1.14] NBT 路径：从入门到胡了

# 前言

![知识共享许可协议](https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png)

本教程全文以 [知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)发布，受孤星共和国法律保护，面向全体华人玩家服务。小部分翻译或引用自 [Minecraft Wiki](https://minecraft.gamepedia.com) 与 [Minecraft 中文 Wiki](https://minecraft-zh.gamepedia.com) 的内容均已标记。

本教程将着重介绍 NBT 路径的概念、语法与相关应用。我们假设您已经完全掌握了[命令进阶中对 NBT 的讲解](https://mc-command.oschina.io/command-tutorial/output/common-format/nbt/nbt.html)（尽管命令进阶成文时间较早，这一部分内容仍没有过时）。如果您在下文中遇到不熟悉并且没有进行讲解的专有名词，请先阅读命令进阶。

由于作者才疏学浅，难免会有很多疏漏，请细心的读者们不吝鞭挞♡

阅读本文将消耗约半个小时。

## 译名表

| 英文 | 本文采用译名 | 备注 |
| - | - | - |
| Array | 数组 | 与列表（List）的区别在于数组有序。 |
| Chat Component / Raw JSON text | JSON 文本 | - |
| Compound | 复合标签 | - |
| Index | 索引 | - |
| Integer | 整型 | - |
| Item | 项 | - |
| Key | 键 | - |
| List | 列表 | 与数组（Array）的区别在于列表无序。 |
| Resource Location | 资源路径 | 函数、进度、战利品表等数据的形如 `<命名空间>:<目录>/<文件名>` 的标识符。 |
| Namespace | 命名空间 | - |
| NBT | NBT | - |
| NBT Path | NBT 路径 | - |
| Value | 值 | - |

# 胡诌概念

**NBT 路径**，是命令中的一种参数。在 Wiki 或是游戏内 `/help` 显示的帮助信息中，常常使用 `<path>` 或 `<路径>` 来指代 NBT 路径。为了行文简洁，后续使用「**路径**」来简称该参数。

路径可以被用于筛选出指定 NBT 值。通俗地说，就是当我们有一个 NBT 复合标签、列表或数组时，能够根据一个路径来得到 0 个、1 个或多个值。打一个并不通俗易懂的比方：我们可以用「灯塔国哥谭市幸福路 42 号楼 450 室」来表示一个（或零个、几个）人的住址。类似地，我们可以用形如 `foo.bar.baz[42][450]` 的**路径**表示一个（或零个、几个）NBT 值的位置。

# 胡编应用

停！什么都没讲怎么直接就说应用了！

没事儿没事儿，你聪明的，看得懂的。

## 获取类

**获取类**运用，即根据路径来获得 NBT 值，并对该值进行诸如传递、显示等操作，不对其进行任何修改。

### data get

> `data get block <坐标> [<路径>] [<倍率>]`
>
> `data get entity <实体> [<路径>] [<倍率>]`
>
> 来自 [中文 Wiki](https://minecraft-zh.gamepedia.com/%E5%91%BD%E4%BB%A4/data)



### JSON 文本

| JSON 文本 `{ "nbt": "<路径>" }` | 不显示内容。 | 显示所有值，不同值之间用逗号分隔。 |

## 赋值类

**赋值类**运用，是

# 胡蒙语法

## 复合标签

指向复合标签中某一值的路径，应为这个值所对应的键。以下面的复合标签为例：

```
{
    foo: 1b,
    "要加引号的键": 233,
    '单引号也可以': 2333
}
```

> 关于引号：
> 
> 在 NBT 中，除了英文字母（`a-z``A-Z`）、数字（`0-9`）、少数符号（`-`、`+`、`.`、`_`）以外
>

路径 `foo` 能够引用值 `1b`；
路径 `"要加引号的键"` 能够引用值 `233`；
路径 `'单引号也可以'` 能够引用值 `2333`；
路径 `qwerty`…如你所见，什么都引用不到，因为并没有这个键。在**获取类**命令中，这个路径不会返回任何值；而在**赋值类**命令中，游戏会创建键 `qwerty` 并为其赋指定的值。

## 数组或列表

指向数组或列表中某一项的键，应为放到半角中括号 （`[` 和  `]`）内的这一项所对应的索引。以下面的整型数组为例：

```
[I;
    1,
    2,
    3
]
```

索引是从 `0` 开始计数的：
路径 `[0]` 能够引用项 `1`；
路径 `[1]` 能够引用项 `2`；
路径 `[2]` 能够引用项 `3`；
路径 `[3]`…与上面复合标签内讲的类似，什么也不能引用到。

此外，索引如果是负数，将引用该数组/列表中的倒数的指定项：
路径 `[-1]` 能够引用项 `3`；
路径 `[-2]` 能够引用项 `2`；
路径 `[-3]` 能够引用项 `1`；
路径 `[-4]`…什么也不能引用到。

此外，如果不写索引，只写中括号，将引用数组中的所有项：
路径 `[]` 能够引用项 `1`、`2` 和 `3`。


# 不知所言

结束了，草。

[afd]SPGoding[/afd]

感谢 
